<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<meta name="description" content="">
<meta name="author" content="">
<!--link rel="icon" href="../../favicon.ico"-->

<title>Trade Message Injector</title>
<base href="/" />
<!-- Bootstrap core CSS -->
<link href="/webjars/bootstrap/css/bootstrap.min.css" rel="stylesheet">
<!-- Font Awesome support -->
<script src="https://use.fontawesome.com/1fbe357976.js"></script>



<!-- Custom styles for this template -->
<link href="jumbotron.css" rel="stylesheet">

</head>

<body ng-app="TradeInjectorApp">

	<div ng-controller="TradeInjectCtrl">
		<nav class="navbar navbar-inverse navbar-fixed-top">
			<div class="container">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed"
						data-toggle="collapse" data-target="#navbar" aria-expanded="false"
						aria-controls="navbar">
						<span class="sr-only">Toggle navigation</span> <span
							class="icon-bar"></span> <span class="icon-bar"></span> <span
							class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="#"><i class="fa fa-university"
						aria-hidden="true"></i>Trade Message Injector</a>
				</div>
				<div id="navbar" class="navbar-collapse collapse">

					<form class="navbar-form navbar-right" ng-show="authenticated">

						<div class="btn-group ">
							<a class="btn btn-primary" href="#"><i
								class="fa fa-facebook-square" aria-hidden="true"></i><span
								ng-bind="user"></a> <a
								class="btn btn-primary dropdown-toggle" data-toggle="dropdown"
								href="#"> <span class="fa fa-caret-down"
								title="Toggle dropdown menu"></span>
							</a>
							<ul class="dropdown-menu">
								<li><a href="#"><i class="fa fa-pencil fa-fw"></i> Edit</a></li>
								<li><a href="#"><i class="fa fa-trash-o fa-fw"></i>
										Delete</a></li>
								<li><a href="#"><i class="fa fa-ban fa-fw"></i> Ban</a></li>
								<li class="divider"></li>
								<li><a href="#"><i class="fa fa-unlock"></i> Make admin</a></li>
							</ul>
						</div>
						<button ng-click="logout()" class="btn btn-primary">
							<i class="fa fa-sign-out" aria-hidden="true"></i>
						</button>
					</form>
				</div>
				<!--/.navbar-collapse -->
			</div>
		</nav>

		<!-- Main jumbotron for a primary marketing message or call to action -->
		<div class="jumbotron" ng-show="authenticated"
			style="background-image: url(./images/london-skyline-22.jpg); height: 400px; width: 1400px;">

			<div class="container"></div>


		</div>





		<div class="jumbotron" ng-show="!authenticated">

			<div class="col-md-4"></div>
			<div class="col-md-4">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title">Please sign in with</h3>
					</div>
					<div class="panel-body">
						<a href="/login/facebook" class="btn btn-lg btn-primary btn-block">
							<i class="fa fa-facebook-square"></i>Facebook
						</a> <a href="/login/github" class="btn btn-lg btn-success btn-block">
							<i class="fa fa-github" aria-hidden="true"></i>GitHub
						</a>

					</div>
				</div>
			</div>
		</div>



		<div class="container">
			<ul class="nav nav-pills" ng-show="authenticated">
				<li role="presentation" ng-class="{active: isSet(1)}"
					ng-click="setTab(1)"><a href="#"><i
						class="fa fa-line-chart fa-fw" aria-hidden="true"></i>Generate
						Trades</a></li>
				<li role="presentation" ng-class="{active: isSet(2)}"
					ng-click="setTab(2)"><a href="#"><i
						class="fa fa-database fa-fw" aria-hidden="true"></i>Trade Data</a></li>
				<li role="presentation" ng-class="{active: isSet(3)}"
					ng-click="setTab(3)"><a href="#"><i
						class="fa fa-bar-chart fa-fw" aria-hidden="true"></i></i>Charts </a></li>
				<li role="presentation" ng-class="{active: isSet(4)}"
					ng-click="setTab(4)"><a href="#"><i
						class="fa fa-microchip fa-fw" aria-hidden="true"></i>Configure</a></li>

			</ul>
		</div>
		<!-- div class="container"-->

		<div ng-show="isSet(1)">
			<div class=" container panel panel-default" ng-show="authenticated">
				<div class="panel-body">
					<div class="input-group">
						<span class="input-group-addon" id="basic-addon1">Trades</span> <input
							type="text" ng-model="tradeInjectorMessage.noOfTrades"
							class="form-control" size="10" placeholder="Enter a Number"
							aria-describedby="basic-addon1"> <span
							class="input-group-addon" id="basic-addon1">Clients</span> <input
							type="text" ng-model="tradeInjectorMessage.noOfClients"
							class="form-control" size="10" placeholder="Enter a Number"
							aria-describedby="basic-addon1"> <span
							class="input-group-addon" id="basic-addon1">Instruments</span> <input
							type="text" ng-model="tradeInjectorMessage.noOfInstruments"
							class="form-control" size="10" placeholder="Enter a Number"
							aria-describedby="basic-addon1"> <input type="hidden"
							ng-model="tradeInjectorMessage.userId" class="form-control"
							ng-init="user" aria-describedby="basic-addon1">
					</div>

					<div class="input-group">
						<span class="input-group-addon" id="basic-addon1">Simulated
							Wait Time (in millisecs)</span> <input type="text"
							ng-model="tradeInjectorMessage.timeDelay" class="form-control"
							size="10" placeholder="Enter a Number"
							aria-describedby="basic-addon1">

					</div>

				</div>
				<!--  end of panel body for input fields -->
				<div class="panel-body">
					<div class="row col-md-6">
						<div class="button-group" role="group">
							<a class="btn btn-default" ng-click="injectTrades()"
								role="button"><i class="fa fa-cogs fa-fw"></i> Generate</a> <a
								class="btn btn-default" href="#"><i
								class="fa fa-adjust fa-fw"></i> Reset</a>
						</div>


					</div>

				</div>
				<!--  End of Panel body for buttons -->
				<div class="col-md-12" ng-controller="TradeInjectTableDisplay">
					<div class="panel panel-default">
						<div class="panel-heading">
							<div class="row">
								<div class="col-md-10">
									<h3 class="panel-title">Inject Message Display</h3>
								</div>
								<div class="col-md-2">
									<div class="btn-group" role="group" aria-label="...">
										<button type="button" ng-click="purgeAll()"
											class="btn btn-default">
											<i class="fa fa-trash fa-fw" aria-hidden="true"></i>
										</button>
										<button type="button" ng-click="refreshAll()"
											class="btn btn-default">
											<i class="fa fa-refresh fa-fw" aria-hidden="true"></i>
										</button>
									</div>
								</div>
							</div>

						</div>
						<div class="panel-body">
							<table class="table table-striped table-hover">
								<thead>
									<tr>
										<th>Trade Inject Message Id</th>
										<th>User</th>
										<th>Login type</th>
										<th>Trade Count</th>
										<th>Client Count</th>
										<th>Instrument Count</th>
										<th>Message Count</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="x in tradeInjectMessages">
										<td>{{x.id}}</td>
										<td>{{x.userId}}</td>
										<td>{{x.loginType}}</td>
										<td>{{x.noOfTrades}}</td>
										<td>{{x.noOfClients}}</td>
										<td>{{x.noOfClients}}</td>
										<td ng-show="x.run_mode==0">
											<button class="btn btn-info" ng-click="stop(x.id)" type="button">
												<i class="fa fa-spinner fa-spin fa-1x fa-fw"></i> Stop <span
													class="badge">{{x.currenMessageCount}}/{{x.noOfTrades}}</span>
											</button>
										</td>
										<td ng-show="!x.run_mode==0">

											<button class="btn btn-default" type="button">
												 <span
													class="badge">{{x.currenMessageCount}}/{{x.noOfTrades}}</span>
											</button></td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
				<!-- End of Panel and col-md-6 for table displa -->
			</div>

			<!-- End of Panel Container -->
		</div>
		<!-- End of ng show for Generate Trades -->
		<div ng-show="isSet(2)">
			<div class=" container panel panel-default" ng-show="authenticated">
				<div class="row">
					<div class="col-md-6">
						<div class="panel-body">
							<div class="input-group">
								<input type="text" ng-model="search" class="form-control"
									size="100" placeholder="Enter a search term"
									aria-describedby="basic-addon1">
							</div>
						</div>
					</div>
					<div class="col-md-3">
						<div ng-show="showGeneration" align="right">
							<span class="badge">Progress:{{totalMsgCount[0]}}/{{tradeInjectorMessage.noOfTrades}}</span>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-6">
						<div class="panel panel-default">
							<div class="panel-heading">
								<h3 class="panel-title">Client Trade Count</h3>
							</div>
							<div class="panel-body">
								<table class="table table-striped table-hover">
									<thead>
										<tr>
											<th>Client</th>
											<th>Trade Count</th>
										</tr>
									</thead>
									<tbody>
										<tr ng-repeat="x in labels |filter:search">
											<td>{{x}}</td>
											<td>{{clientCount[$index]}}</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
					<div class="col-md-6">
						<div class="panel panel-default">
							<div class="panel-heading">
								<h3 class="panel-title">Instrument Trade Count</h3>
							</div>
							<div class="panel-body">
								<table class="table table-striped table-hover">
									<thead>
										<tr>
											<th>Instrument Id</th>
											<th>Trade Count</th>
										</tr>
									</thead>
									<tbody>
										<tr ng-repeat="y in labels_instrument | filter:search">
											<td>{{y}}</td>
											<td>{{instrumentCount[$index]}}</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-md-12">
						<div class="panel panel-default">
							<div class="panel-heading">
								<h3 class="panel-title">Trade Details</h3>
							</div>
							<div class="panel-body">
								<table class="table table-striped table-hover">
									<thead>
										<tr>
											<th>Client</th>
											<th>Instrument</th>
											<th>Trade Side</th>
											<th>Trade Date</th>
											<th>Trade Quantity</th>
											<th>Trade Price</th>
										</tr>
									</thead>
									<tbody>
										<tr ng-repeat="x in tradeAcks |filter:search">
											<td>{{x.clientName}}</td>
											<td>{{x.instrumentId}}</td>
											<td>{{x.side}}</td>
											<td>{{x.tradeDate}}</td>
											<td>{{x.tradeQty}}</td>
											<td>{{x.tradePx}}</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
					<!-- End of col-md-8 -->
				</div>
				<!-- End of row -->
			</div>
			<!-- End of ng show for Messages -->
		</div>
		<!-- end of container panel default for Trade Data -->
		<div ng-show="isSet(3)">
			<div class=" container panel panel-default" ng-show="authenticated">
				<div ng-show="showGeneration" align="right">
					<span class="badge">Progress:{{totalMsgCount[0]}}/{{tradeInjectorMessage.noOfTrades}}</span>
				</div>
				<div class="row">

					<div class="col-md-6">
						<div class="panel panel-default">
							<div class="panel-heading">
								<h3 class="panel-title">Client Trade Count</h3>
							</div>
							<div class="panel-body">
								<div>
									<canvas id="bar" class="chart chart-bar"
										chart-data="clientCount" chart-labels="labels"
										chart-options="options"></canvas>
								</div>
							</div>
						</div>

					</div>
					<div class="col-md-6">
						<div class="panel panel-default">
							<div class="panel-heading">
								<h3 class="panel-title">Instrument Trade Count</h3>
							</div>
							<div class="panel-body">
								<div>
									<canvas id="bar" class="chart chart-bar"
										chart-data="instrumentCount" chart-labels="labels_instrument"
										chart-options="options_instrument"></canvas>
								</div>

							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- End of ng show for charts -->
		<div ng-show="isSet(4)" ng-show="authenticated">
			<h2>Construction in progress</h2>
		</div>
		<!-- End of ng show Dashboard -->
	</div>
	<!-- End of Controller -->

	<hr>

	<footer>
		<p>&copy; 2016 Company, Inc.</p>
	</footer>

	<!-- /container -->


	<!-- Bootstrap core JavaScript
    ================================================== -->
	<!-- Pla
	
	
	ced at the end of the document so the pages load faster -->


	<script src="./dist/js/sockjs-0.3.min.js" type="text/javascript"></script>
	<script src="./dist/js/stomp.min.js" type="text/javascript"></script>
	<script src="/webjars/angularjs/angular.min.js" type="text/javascript"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.js"
		type="text/javascript"></script>
	<script src="./dist/js/angular-chart.js" type="text/javascript"></script>


	<script src="/webjars/jquery/jquery.min.js" type="text/javascript"></script>
	<script src="/webjars/bootstrap/js/bootstrap.min.js"
		type="text/javascript"></script>
	<script src="./scripts/app/app.js" type="text/javascript"></script>
	<script src="./scripts/app/controller.js" type="text/javascript"></script>
	<script src="./scripts/app/services.js" type="text/javascript"></script>
	<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
	<!-- script src="../../assets/js/ie10-viewport-bug-workaround.js"></script-->
</body>
</html>
